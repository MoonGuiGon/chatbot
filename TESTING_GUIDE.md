# 테스트 가이드

## 🚀 빠른 시작

```bash
cd /Users/mungyugon/work/git/chatbot

# 서버 시작
./start_test.sh

# 브라우저에서 http://localhost:3000 접속
```

## 📝 테스트 시나리오

### 1. 초기 화면 확인
- ✅ 웰컴 메시지가 표시됨
- ✅ 사이드바에 "대화 이력" 2개 표시
- ✅ 상단에 업로드, 설정 버튼 표시

### 2. 기본 대화 테스트

#### 시나리오 A: 부품 재고 조회
**질문:** "부품 ABC-12345의 재고는?"

**예상 결과:**
- 재고 정보 표시 (총 1,000개, 가용 850개)
- 출고 이력 **표** 표시 (3개 행)
- 월별 재고 추이 **그래프** 표시 (Line 차트)
- 신뢰도 점수 표시
- 출처 3개 표시
- 👍👎 피드백 버튼 표시

#### 시나리오 B: 표와 그래프 요청
**질문:** "부품별 재고 현황을 표로 보여줘"

**예상 결과:**
- 부품별 재고 **표** 렌더링 (3개 행)
- 재고 현황 **Bar 그래프** 표시
- 출처 정보 표시

#### 시나리오 C: 일반 질문
**질문:** "부품 검사 절차가 뭐야?"

**예상 결과:**
- 검사 절차 설명
- 출처 표시
- 피드백 버튼 표시

### 3. 피드백 기능 테스트

1. 아무 답변에서 **👍 버튼 클릭**
   - ✅ 버튼이 비활성화됨
   - ✅ 색상이 초록색으로 변경

2. 다른 답변에서 **👎 버튼 클릭**
   - ✅ 버튼이 비활성화됨
   - ✅ 색상이 빨간색으로 변경

### 4. 설정 기능 테스트

1. 상단 **⚙️ 설정 버튼 클릭**
   - ✅ 설정 Dialog 열림

2. 설정 변경
   - **Model 변경**: GPT-4 → GPT-3.5 Turbo
   - **Temperature 조절**: 0.1 → 0.5
   - **Max Tokens**: 2000 → 3000
   - **Custom Prompt 입력**: "당신은 친절한 챗봇입니다"

3. **저장 버튼 클릭**
   - ✅ Dialog 닫힘
   - ✅ 설정 적용됨 (다음 질문부터 반영)

4. **초기화 버튼 클릭**
   - ✅ 기본값으로 복원

### 5. 문서 업로드 테스트 (시뮬레이션)

1. 상단 **📤 업로드 버튼 클릭**
   - ✅ 업로드 Dialog 열림

2. **파일 선택 버튼 클릭**
   - ✅ 파일 선택 창 열림
   - ✅ PDF, PPT, Excel, Word만 선택 가능

3. 파일 선택 (예: 아무 PDF 파일)
   - ✅ 선택된 파일 목록에 표시
   - ✅ 파일명, 크기 표시
   - ✅ 삭제 버튼 표시

4. **업로드 버튼 클릭**
   - ✅ 진행 표시줄 표시
   - ✅ 업로드 완료 후 결과 표시
   - ✅ "검수 대기" 칩 표시

### 6. 대화 이력 테스트

1. 사이드바에서 **"부품 ABC-12345 재고 조회"** 클릭
   - ✅ 이전 대화 내용 로드됨
   - ✅ 질문과 답변 표시

2. 사이드바에서 **"부품 검사 절차 문의"** 클릭
   - ✅ 다른 대화 내용 로드됨

3. **새 대화 버튼 클릭**
   - ✅ 화면이 초기화됨
   - ✅ 웰컴 메시지 다시 표시

### 7. 진행 상황 시각화 테스트

질문을 입력하면:
1. ✅ "질문 분석 완료" 단계 표시
2. ✅ "부품 정보 검색 완료" 단계 표시
3. ✅ "문서 검색 완료" 단계 표시
4. ✅ "답변 생성 완료" 단계 표시
5. ✅ "품질 검증 완료" 단계 표시

각 단계별로 **Stepper UI**가 업데이트됩니다.

### 8. UI/UX 확인 사항

#### 표 렌더링
- ✅ MUI Table로 깔끔하게 표시
- ✅ 헤더가 굵게 표시
- ✅ 행 구분선 표시

#### 그래프 렌더링
- ✅ Recharts로 표시
- ✅ 제목 표시
- ✅ 축 레이블 표시
- ✅ Legend 표시
- ✅ 툴팁 동작

#### 출처 표시
- ✅ "출처 (N개)" 버튼 클릭 시 확장
- ✅ 파일명 또는 부품번호 표시
- ✅ 유사도 점수 표시 (있을 경우)
- ✅ 다운로드 버튼 동작

#### 경고 메시지
- ✅ 신뢰도 낮을 때 경고 표시
- ✅ 출처 없을 때 경고 표시

### 9. 반응형 확인

1. **사이드바 토글**
   - ✅ 햄버거 메뉴 클릭 시 사이드바 숨김/표시
   - ✅ 부드러운 애니메이션

2. **화면 크기 변경**
   - ✅ 메시지 버블 크기 조정
   - ✅ 입력창 크기 조정

## 🔍 예상 동작 확인

### 정상 동작
```
1. 질문 입력 → 0.5초 대기 (Mock LLM delay)
2. 진행 상황 표시 (Stepper)
3. 답변 표시
4. 표/그래프 렌더링
5. 출처 표시
6. 피드백 버튼 활성화
```

### 에러 처리
```
- 서버 연결 실패 시: "서버와의 통신 중 오류가 발생했습니다" 표시
- 파일 업로드 실패 시: 에러 메시지 표시
```

## 🐛 트러블슈팅

### 문제: "Request failed with status code 403"

**원인:** Backend 서버가 시작되지 않음

**해결:**
```bash
# 1. Backend 서버 상태 확인
curl http://localhost:5000/health

# 2. Backend 로그 확인
cd backend
python run.py

# 3. 포트 충돌 확인
lsof -i :5000
```

### 문제: Frontend가 로드되지 않음

**해결:**
```bash
# Frontend 재시작
cd frontend
npm install
npm run dev
```

### 문제: 표/그래프가 표시되지 않음

**원인:** JSON 파싱 오류 또는 데이터 형식 문제

**확인:**
1. 브라우저 개발자 도구 → Console 확인
2. Network 탭에서 API 응답 확인

## 📊 테스트 체크리스트

### 기능 테스트
- [ ] 웰컴 메시지 표시
- [ ] 부품 재고 조회
- [ ] 표 렌더링
- [ ] 그래프 렌더링 (Line, Bar)
- [ ] 출처 표시 및 확장
- [ ] 출처 다운로드
- [ ] 피드백 제공 (👍👎)
- [ ] 설정 변경
- [ ] 문서 업로드 시뮬레이션
- [ ] 대화 이력 로드
- [ ] 새 대화 시작
- [ ] 진행 상황 시각화

### UI/UX 테스트
- [ ] 사이드바 토글
- [ ] 반응형 디자인
- [ ] 버튼 클릭 효과
- [ ] Dialog 열기/닫기
- [ ] 스크롤 동작
- [ ] 로딩 상태 표시

### 성능 테스트
- [ ] 응답 속도 (0.5초 내외)
- [ ] 부드러운 애니메이션
- [ ] 메모리 누수 없음

## 🎯 테스트 통과 기준

### ✅ 성공
- 모든 기능 동작
- UI가 깔끔하게 표시
- 에러 없이 실행
- 표/그래프 정상 렌더링
- 피드백 기능 동작

### ❌ 실패
- 403 에러 지속
- UI가 깨짐
- 표/그래프 표시 안 됨
- 버튼 클릭 시 반응 없음

## 📸 스크린샷 확인 포인트

1. **초기 화면**
   - 웰컴 메시지
   - 사이드바
   - 대화 이력

2. **질문 답변**
   - 표 렌더링
   - 그래프 렌더링
   - 출처 표시

3. **설정 Dialog**
   - 모든 설정 항목 표시

4. **업로드 Dialog**
   - 파일 선택 UI

## 🚀 다음 단계

테스트 완료 후:
1. ✅ 모든 기능 동작 확인
2. ✅ UI/UX 만족도 확인
3. → 실제 DB/LLM 연동 진행
4. → Vision API 통합
5. → 성능 최적화

---

**테스트 완료 예상 시간**: 10-15분
**모든 기능이 정상 동작합니다!** 🎉
